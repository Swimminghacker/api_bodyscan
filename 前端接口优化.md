## 1.密码传输

暂时直接明文传输（因为有的页面需要呈现账号和密码（超管的页面）   数据库需要存储密码明文  ，暂时就简设计 ）

## 2.提交信息

暂时都按照文档的来  全部都是post。

## 3.响应结构

**所有请求的响应体结构中code部分全部用  20X   的形式，都代表请求成功。200代表正常，20X代表具体**

### 1）用户登录：

```
200：登录成功并返回响应的data

201 ：没有密码或者用户名

202 ： 账号不存在

203：密码错误

204: 账号被冻结！
```

**备注：登录成功返回的ident字段：0代表超管、1代表操作员、2代表客户机构操作员**

### 2) 修改密码（/modifyPassword）

```
200:修改成功

201：没有找到该用户

202：没有传入原始密码或者新密码的值

203：原始密码错误
```



### 3）添加操作员账号（/operator/add）

```
200:添加成功

201：该token用户不存在

202:没有权限，必须是超管账号才行

203：没有传入name 或者 tel的值

204:  账户已存在！（tel的值在数据库中唯一）
```

**备注：tel字段必须在前端验证一下是手机号（11位），后端没有进行验证。**
	

### 4）获取操作员列表（/operator/list）

```
200:获取成功返回数据

201：该token用户不存在

202:没有权限，必须是超管账号才行

203：参数错误，pageSize和pageNumber是否传入以及是否大于零
```

**备注：返回data数据中的frozen字段  1代表正常，0代表冻结！**

### 5）冻结账号：

```
200:操作成功

201：该token用户不存在

202:没有权限，必须是超管账号才行

203：参数错误，检查传入字段是否正确

204：找不到对应的账号！
```



### 6）所有对机构账号的操作

（增加、冻结解冻、获取列表），返回值参考上面3）4）5）对”操作员“的操作

### 7）添加任务

```
200:添加成功

201：该token用户不存在

202:没有权限，必须是机构账户才行

203：参数错误，检查一下传入的参数字段
```

**备注：传入的日期格式必须是2018/10/09这样的格式~**

### 8）获取任务列表

```
200:获取成功

201：该token用户不存在

202:没有权限，必须是机构账户才行

203：参数错误，检查一下传入的参数字段
```

**备注：**

**1）三种身份请求的任务列表返回结果不相同：超管获取所有任务列表，操作员获取没有领取的任务列表以及与自己相关的任务列表，机构操作员获取与自己相关的任务列表  **

**2）‘stage’字段含义：0 代表未领取，1代表已领取，2代表待确认，3代表已完成**

### 8）获取任务详细信息

```
200:获取成功

201：该token用户不存在

202：该任务不存在
```

**备注：**若该任务没有被操作员认领则传回的operator相关字段是空值







## 4.身份验证，

每次请求需要发送token，若token异常：

```
301：没有token传入，需要重新登录

302：token过期，需要重新登录

303：token错误。
```

如果token正常则执行响应的操作并返回数据。

**备注：后端暂时设置的token有效期是一天，24h之后需要重新登录获取新的token。**

